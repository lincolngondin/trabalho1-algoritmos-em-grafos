Long-duration energy storage (LDES) is a key component for fully renewable, sector-coupled energy systems based on wind and solar. While capacity expansion planning has begun to take into account interannual weather variability, it often ignores weather uncertainty and limited foresight in capacity and operational decisions. We build a stochastic capacity expansion model for fully decarbonized energy systems with LDES in Europe accounting for weather uncertainty - isolating the effect of limited foresight by comparing it to a perfect foresight benchmark. Under limited foresight, LDES acts as a hedge against extreme system states operating defensively and exhibiting a stockpiling effect absent under perfect foresight. Solar PV gains in system value for its higher predictability with up to 25% higher capacities versus the benchmark while onshore wind capacities are lower. We shed light on the underlying mechanisms by deriving implicit LDES bidding curves. We show that LDES bids reflect the costs and the weather-dependent probability of extreme system states conditional on the current system state. This has important implications for the price formation on renewable electricity markets, as a wide and continuous range of probabilistic LDES bids alleviates concerns of extreme price disparity at high renewable shares.